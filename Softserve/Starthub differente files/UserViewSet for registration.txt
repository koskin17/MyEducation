## üîß –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç `UserViewSet`

```python
class UserViewSet(viewsets.ViewSet):
```

* –¢—ã —Å–æ–∑–¥–∞—ë—à—å **ViewSet**, —Ç–æ –µ—Å—Ç—å –Ω–∞–±–æ—Ä –ª–æ–≥–∏–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (GET, POST –∏ —Ç.–¥.) –∫ —Ä–µ—Å—É—Ä—Å—É **User**.
* `ViewSet` ‚Äî —ç—Ç–æ –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ API-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –Ω–æ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –æ–¥–∏–Ω –∫–ª–∞—Å—Å.

---

## üìå –ú–µ—Ç–æ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:

```python
@action(detail=False, methods=['post'], url_path='register')
```

–≠—Ç–æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@action` –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

| –ü–∞—Ä–∞–º–µ—Ç—Ä       | –ó–Ω–∞—á–µ–Ω–∏–µ     | –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç?                                                                              |
| -------------- | ------------ | ---------------------------------------------------------------------------------------------- |
| `detail=False` | `False`      | –≠—Ç–æ **–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –±–µ–∑ ID**, —Ç–æ –µ—Å—Ç—å `/users/register/`, –∞ –Ω–µ `/users/<id>/register/` |
| `methods`      | `['post']`   | –≠—Ç–æ—Ç –º–∞—Ä—à—Ä—É—Ç –æ—Ç–≤–µ—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –Ω–∞ POST-–∑–∞–ø—Ä–æ—Å—ã** (GET –≤—ã–∑–æ–≤–µ—Ç 405 Method Not Allowed)          |
| `url_path`     | `'register'` | –≠—Ç–æ —Å—É—Ñ—Ñ–∏–∫—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–∏—Ç—Å—è –∫ `/users/` –∏ –¥–∞—Å—Ç –ø–æ–ª–Ω—ã–π –ø—É—Ç—å: `/users/register/`              |

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

> **–ö–æ–Ω–µ—á–Ω—ã–π URL –±—É–¥–µ—Ç**:
> `http://localhost:8000/users/register/`
> –∏ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ **POST**.

---

## üß† –ö–∞–∫ Django/DRF —ç—Ç–æ –ø–æ–Ω–∏–º–∞–µ—Ç?

–¢—ã –≥–¥–µ-—Ç–æ –≤ `config/urls.py` —Å–¥–µ–ª–∞–ª —ç—Ç–æ:

```python
router = routers.DefaultRouter()
router.register(r'users', UserViewSet, basename='user')
```

–≠—Ç–æ:

* –°–æ–∑–¥–∞—ë—Ç –±–∞–∑–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç `/users/`
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã `UserViewSet`, –≤–∫–ª—é—á–∞—è `register()` –∫–∞–∫ –ø–æ–¥–º–∞—Ä—à—Ä—É—Ç `/users/register/` ‚Äî **–ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `@action`**.

---

## üì§ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∞–º –º–µ—Ç–æ–¥ `.register()`

```python
serializer = UserRegistrationSerializer(data=request.data)
```

‚Äî –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ POST-–∑–∞–ø—Ä–æ—Å–∞.

```python
if serializer.is_valid():
    user = serializer.save()
```

‚Äî –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏, –µ—Å–ª–∏ –≤—Å—ë –æ–∫, **—Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**.

```python
return Response({
    "message": "Registration successful.",
    "user_id": user.id,
    "email": user.email,
}, status=status.HTTP_201_CREATED)
```

‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

---

## ‚ö†Ô∏è –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å GET –Ω–∞ `/users/register/`?

–¢—ã –ø–æ–ª—É—á–∏—à—å:

```
405 Method Not Allowed
```

–ü–æ—Ç–æ–º—É —á—Ç–æ `@action(... methods=['post'])` —è–≤–Ω–æ —É–∫–∞–∑–∞–ª: —Ç–æ–ª—å–∫–æ POST —Ä–∞–∑—Ä–µ—à—ë–Ω.

---

## üß™ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –≤ Postman

* **URL**: `http://localhost:8000/users/register/`
* **Method**: `POST`
* **Body** ‚Üí `raw` ‚Üí `JSON`:

```json
{
    "email": "test@example.com",
    "password": "12345678"
}
```

---

–•–æ—á–µ—à—å, —è —Ç–∞–∫–∂–µ —Ä–∞–∑–±–µ—Ä—É, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç `UserRegistrationSerializer`, –∏ –∫–∞–∫ –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?
