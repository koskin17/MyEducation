- cd backend
- docker build -t starthub .: specifying the image's name and start build
- docker compose build: build new docker build
- docker run -d: start one container —à—Ç detached mode
- docker compose up -d: start connected services, "-d" key for start project in detached ((in disconnected from the terminal) mode
- docker compose down --volumes
- docker container prune

---------

docker build .
docker compose up -d
docker ps
enter in container django: docker exec -it backend-web-1 bash
add path for files: export PYTHONPATH=/app/backend
checking: 
make migration in container: root@5eff23a3fb78:/app# python manage.py migrate
Check variables loading: echo $DB_NAME and get the name of DB: StartHubDB
start django-server in container: python manage.py runserver 0.0.0.0:8000
http://localhost:8000/ - start page
http://localhost:5050/browser/ - database
http://localhost:8000/api/users/register/ - form for registration

–¢—ã —Ö–æ—á–µ—à—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–∫—É—â–∏–º Docker-–ø—Ä–æ–µ–∫—Ç–æ–º: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–±—Ä–∞–∑—ã, —Ç–æ–º–∞, —Å–±–æ—Ä–∫–∏ ‚Äî –æ–¥–Ω–∏–º –º–∞—Ö–æ–º. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

---

## üß® –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ Docker-–ø—Ä–æ–µ–∫—Ç–∞

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Ç–æ–º–∞ –∏ —Å–µ—Ç–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å `docker-compose`

```bash
docker compose down --volumes --remove-orphans
```

- `--volumes` ‚Äî —É–¥–∞–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–æ–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö).
- `--remove-orphans` ‚Äî —É–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –Ω–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ `docker-compose.yml`, –Ω–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏.

---

### 2. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –æ–±—Ä–∞–∑—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º

–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å —É–¥–∞–ª–∏—Ç—å **–≤—Å–µ –æ–±—Ä–∞–∑—ã**, –Ω–µ —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–±–æ—Ä–∫–∏:

```bash
docker image prune -a --force
```

- `-a` ‚Äî —É–¥–∞–ª—è–µ—Ç **–≤—Å–µ** –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã, –≤–∫–ª—é—á–∞—è —Ç–µ, —á—Ç–æ –±—ã–ª–∏ —Å–æ–±—Ä–∞–Ω—ã –≤—Ä—É—á–Ω—É—é.
- `--force` ‚Äî –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

---

### 3. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–æ–º–∞ (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–¥—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë)

```bash
docker volume prune --force
```

–≠—Ç–æ —É–¥–∞–ª–∏—Ç **–≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–æ–º–∞**, –≤–∫–ª—é—á–∞—è –±–∞–∑—ã, –∫—ç—à –∏ –ø—Ä–æ—á–µ–µ.

---

### 4. –£–¥–∞–ª–∏—Ç—å —Å–±–æ—Ä–∫–∏ (build cache)

```bash
docker builder prune --force
```

–≠—Ç–æ –æ—á–∏—Å—Ç–∏—Ç –∫—ç—à —Å–±–æ—Ä–∫–∏ ‚Äî –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —Ç—ã —á–∞—Å—Ç–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—à—å –æ–±—Ä–∞–∑—ã –∏ —Ö–æ—á–µ—à—å –Ω–∞—á–∞—Ç—å —Å –Ω—É–ª—è.

---

## üî• –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π one-liner (–µ—Å–ª–∏ —Ç—ã —É–≤–µ—Ä–µ–Ω)

```bash
docker compose down --volumes --remove-orphans && \
docker image prune -a --force && \
docker volume prune --force && \
docker builder prune --force
```
–ß—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç—ã —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å: –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∏–ª–∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã. –í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã:

---

### 1Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏)

–ï—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –∑–∞–ø—É—â–µ–Ω –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ `docker-compose`, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

```bash
docker-compose restart
```

–≠—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∏—Ö –∑–∞–Ω–æ–≤–æ.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä `backend`:

```bash
docker-compose restart backend
```

---

### 2Ô∏è‚É£ –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∏ –∑–∞–ø—É—Å–∫–æ–º

```bash
docker-compose down
docker-compose up -d
```

* `down` ‚Äî –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–¥–∞–ª—è–µ—Ç —Å–µ—Ç–∏ (–Ω–æ –Ω–µ –æ–±—Ä–∞–∑—ã –∏ –¥–∞–Ω–Ω—ã–µ –≤ volume).
* `up -d` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–µ.

---

### 3Ô∏è‚É£ –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –∏–ª–∏ Dockerfile)

```bash
docker-compose up -d --build
```

* `--build` –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.
* –ü–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —Ç—ã –∏–∑–º–µ–Ω–∏–ª `Dockerfile` –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `requirements.txt`.

---

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```bash
docker ps
```

* –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

```bash
docker logs <container_name>
```

* –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `backend`).

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–æ—á–Ω—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, —á—Ç–æ–±—ã **–ø–æ–¥–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –Ω—É–ª—è —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö**.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —ç—Ç–æ —Å–¥–µ–ª–∞–ª?

