üîê –î—É–∂–µ –≤–ª—É—á–Ω–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è! –ê–¥–∂–µ **–±–µ–∑ —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è —Å–∏—Å—Ç–µ–º–∞ –±—É–ª–∞ –± —É—Ä–∞–∑–ª–∏–≤–æ—é**, —ñ –º–∏ –Ω–µ –º–∞–ª–∏ –± –ø—Ä–∞–≤–∞ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ç–∞–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏.
–¢–æ–º—É –¥–∞–≤–∞–π **–ø–æ–∫—Ä–æ–∫–æ–≤–æ —Ä–æ–∑–±–µ—Ä–µ–º–æ**, **–¥–µ —ñ —è–∫ —Ö–µ—à—É—î—Ç—å—Å—è –ø–∞—Ä–æ–ª—å** –≤ —Ü—å–æ–º—É —Ñ—ñ–Ω–∞–ª—å–Ω–æ–º—É –∫–æ–¥—ñ.

---

## üìå –ö–æ—Ä–æ—Ç–∫–æ: –≥–¥–µ —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å?

–ü–∞—Ä–æ–ª—å —Ö–µ—à—É—î—Ç—å—Å—è –≤ **–º–µ—Ç–æ–¥—ñ `set_password()`**, —è–∫–∏–π –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –≤ **–º–µ–Ω–µ–¥–∂–µ—Ä—ñ `UserProfileManager`**, –≤ –º–µ—Ç–æ–¥—ñ `create_user()`:

### üìç –§–∞–π–ª: `models.py`

```python
user.set_password(password)
```

–¶–µ–π —Ä—è–¥–æ–∫:

1. **–•–µ—à—É—î –ø–∞—Ä–æ–ª—å** (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ PBKDF2, bcrypt –∞–±–æ —ñ–Ω—à–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º ‚Äî –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å Django).
2. –ó–±–µ—Ä—ñ–≥–∞—î —Ö–µ—à —É –ø–æ–ª—ñ `password` (–Ω–µ `password_hash`, –∞ —Å–∞–º–µ `password`, —è–∫–µ –Ω–∞—Å–ª—ñ–¥—É—î—Ç—å—Å—è –∑ `AbstractBaseUser`).

---

## üîç –ì–¥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `create_user()`?

–£ **—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ç–æ—Ä—ñ**, –º–µ—Ç–æ–¥—ñ `create()`:

### üìç –§–∞–π–ª: `serializers.py`

```python
return UserProfile.objects.create_user(password=password, **validated_data)
```

–¢–æ–±—Ç–æ:

* –ú–∏ **–ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –≤–∏–π–º–∞—î–º–æ** –ø–∞—Ä–æ–ª—å –∑ `validated_data`
* –ü–µ—Ä–µ–¥–∞—î–º–æ –π–æ–≥–æ –≤ –º–µ—Ç–æ–¥ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ `create_user()`
* –ê —Ç–æ–π –≤–∂–µ –≤–∏–∫–ª–∏–∫–∞—î:

  ```python
  user.set_password(password)
  ```

–¢–∞–∫–∏–º —á–∏–Ω–æ–º, **—Ö–µ—à—É–≤–∞–Ω–Ω—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ Django API**, –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤—Ç—Ä—É—á–∞–Ω–Ω—è.

---

## üìò –ü–æ—á–µ–º—É –ø–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `password`, –∞ –Ω–µ `password_hash`?

–¶–µ –∑—Ä–æ–±–ª–µ–Ω–æ **—Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ** Django‚Äô–º:

* –ö–ª–∞—Å `AbstractBaseUser` –≤–∂–µ –º–∞—î –ø–æ–ª–µ `password`
* –ô–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî **–Ω–µ –∑–≤–∏—á–∞–π–Ω–∏–π —Ç–µ–∫—Å—Ç**, –∞ **—Ö–µ—à –ø–∞—Ä–æ–ª—è**
* –ú–∏ **–Ω—ñ–∫–æ–ª–∏ –Ω–µ —Å—Ç–≤–æ—Ä—é—î–º–æ –ø–æ–ª–µ `password_hash` –≤—Ä—É—á–Ω—É**, Django —Å–∞–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `password` —è–∫ —Ö–µ—à–æ–≤–∞–Ω–µ –ø–æ–ª–µ

---

## ‚úÖ –ß—Ç–æ –±—É–¥–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö?

| –ü–æ–ª–µ            | –ó–Ω–∞—á–µ–Ω–Ω—è                                         |
| --------------- | ------------------------------------------------ |
| `password`      | `pbkdf2_sha256$260000$Zl9iPv...`                 |
| `password_hash` | ‚ùå –í–∑–∞–≥–∞–ª—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ ‚Äî –∫—Ä–∞—â–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ |

üëâ –Ø–∫—â–æ —Ç–∏ –≤ –º–æ–¥–µ–ª—ñ —Å—Ç–≤–æ—Ä–∏—à –æ–∫—Ä–µ–º–µ –ø–æ–ª–µ `password_hash`, —Ç–æ:

* Django **–Ω–µ –±—É–¥–µ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏**
* –¶–µ –º–æ–∂–µ –∑–∞–ø–ª—É—Ç–∞—Ç–∏ —ñ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ –ø–æ–º–∏–ª–æ–∫
* **–ö—Ä–∞—â–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–æ–∫–ª–∞–¥–∞—Ç–∏—Å—è –Ω–∞ –ø–æ–ª–µ `password` –∑ Django**

---

## üß† –•–æ—á–µ—à –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏?

–í–∏–∫–æ–Ω–∞–π —Ü—ñ –∫—Ä–æ–∫–∏ —É Django shell:

```bash
python manage.py shell
```

```python
from users.models import UserProfile

user = UserProfile.objects.get(email='konstantin@example.com')
print(user.password)  # ‚ùó —Ü–µ –Ω–µ "StrongPass123!", –∞ –≤–∂–µ —Ö–µ—à
print(user.check_password('StrongPass123!'))  # ‚úÖ True
print(user.check_password('WrongPassword'))  # ‚ùå False
```

---

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

| –ú—ñ—Å—Ü–µ                 | –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è                                      |
| --------------------- | ---------------------------------------------------- |
| `serializer.create()` | –í–∏–π–º–∞—î –ø–∞—Ä–æ–ª—å —ñ –≤–∏–∫–ª–∏–∫–∞—î –º–µ–Ω–µ–¥–∂–µ—Ä                    |
| `create_user()`       | –í–∏–∫–ª–∏–∫–∞—î `set_password(password)`                    |
| `set_password()`      | –•–µ—à—É—î –ø–∞—Ä–æ–ª—å —ñ –∑–±–µ—Ä—ñ–≥–∞—î —É –ø–æ–ª—ñ `password`            |
| –ë–î                    | –ü–∞—Ä–æ–ª—å –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —è–∫ —Ö–µ—à, –±–µ–∑ –¥–æ—Å—Ç—É–ø—É –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—É |

üîí –ü–∞—Ä–æ–ª—ñ –Ω–∞–¥—ñ–π–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ñ–≤ –±–µ–∑–ø–µ–∫–∏ Django.

---

–ì–æ—Ç–æ–≤–∏–π –ø–æ–∫–∞–∑–∞—Ç–∏, —è–∫ –ø—Ä–∞—Ü—é—î —Ü—è –ª–æ–≥—ñ–∫–∞ –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ —Ç–æ–∫–µ–Ω—ñ–≤, –∞–±–æ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑—Ä–æ–±–∏—Ç–∏ –ª–æ–≥—ñ–Ω —á–µ—Ä–µ–∑ JWT –≤—Ä—É—á–Ω—É, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ.
