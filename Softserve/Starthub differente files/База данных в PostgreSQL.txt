-- üîê –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
CREATE TABLE UserProfile (
    id SERIAL PRIMARY KEY,
    login VARCHAR(50) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL, -- –ø–æ–¥–¥–µ—Ä–∂–∫–∞ bcrypt/argon2
    email TEXT UNIQUE NOT NULL,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    bio TEXT,
    linkedin TEXT,
    website TEXT,
    location_id INTEGER REFERENCES Locations(id),
    created_at TIMESTAMP DEFAULT NOW()
);

-- üåç –õ–æ–∫–∞—Ü—ñ—ó (–Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ 3NF)
CREATE TABLE Locations (
    id SERIAL PRIMARY KEY,
    city VARCHAR(100),
    region VARCHAR(100),
    country VARCHAR(100)
);

-- üìä –Ü–Ω–¥—É—Å—Ç—Ä—ñ—ó
CREATE TABLE Industries (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) UNIQUE NOT NULL
);

-- üèÅ –°—Ç–∞–¥—ñ—ó —ñ–Ω–≤–µ—Å—Ç—É–≤–∞–Ω–Ω—è
CREATE TABLE InvestmentStages (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) UNIQUE NOT NULL
);

---
investment_stage = —Å—Ç–∞–¥—ñ—è —ñ–Ω–≤–µ—Å—Ç—É–≤–∞–Ω–Ω—è
–¶–µ –æ–ø–∏—Å—É—î, –Ω–∞ —è–∫–æ–º—É –µ—Ç–∞–ø—ñ —Ä–æ–∑–≤–∏—Ç–∫—É –ø—Ä–æ—î–∫—Ç—É (—Å—Ç–∞—Ä—Ç–∞–ø—É) —ñ–Ω–≤–µ—Å—Ç–æ—Ä –≥–æ—Ç–æ–≤–∏–π –≤–∫–ª–∞–¥–∞—Ç–∏ –≥—Ä–æ—à—ñ. –£ —Å–≤—ñ—Ç—ñ –≤–µ–Ω—á—É—Ä–Ω–æ–≥–æ —ñ–Ω–≤–µ—Å—Ç—É–≤–∞–Ω–Ω—è —î –∑–∞–≥–∞–ª—å–Ω–æ–ø—Ä–∏–π–Ω—è—Ç—ñ —Å—Ç–∞–¥—ñ—ó:
–ù–∞–∑–≤–∞	–û–ø–∏—Å
idea –∞–±–æ pre-seed	–Ü–¥–µ—è, –º–æ–∂–ª–∏–≤–æ —î –ª–∏—à–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø
seed	–Ñ –ø—Ä–æ–¥—É–∫—Ç, —à—É–∫–∞—é—Ç—å –ø–µ—Ä—à–µ —Ñ—ñ–Ω–∞–Ω—Å—É–≤–∞–Ω–Ω—è
series A	–Ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ, –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
series B	–ê–∫—Ç–∏–≤–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è
series C	–ú—ñ–∂–Ω–∞—Ä–æ–¥–Ω–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫
exit –∞–±–æ IPO	–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –ø—Ä–æ–¥–∞–∂—É/–≤–∏—Ö–æ–¥—É –Ω–∞ –±—ñ—Ä–∂—É
---

-- üìä –°—Ç–∞—Ç—É—Å–∏ —ñ–Ω–≤–µ—Å—Ç–ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π
CREATE TABLE OfferStatus (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL CHECK (name IN ('–æ—á—ñ–∫—É—î —Ä–æ–∑–≥–ª—è–¥—É', '–ø—Ä–∏–π–Ω—è—Ç–æ', '–≤—ñ–¥—Ö–∏–ª–µ–Ω–æ'))
);

-- üß† –Ü–Ω–≤–µ—Å—Ç–æ—Ä–∏
CREATE TABLE InvestorInfo (
    user_id INTEGER PRIMARY KEY REFERENCES UserProfile(id) ON DELETE CASCADE,
    min_investment_amount NUMERIC,
    max_investment_amount NUMERIC
);

-- üîó –ë–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö –¥–ª—è —ñ–Ω–¥—É—Å—Ç—Ä—ñ–π —ñ–Ω–≤–µ—Å—Ç–æ—Ä–∞
CREATE TABLE InvestorIndustries (
    user_id INTEGER REFERENCES UserProfile(id) ON DELETE CASCADE,
    industry_id INTEGER REFERENCES Industries(id),
    PRIMARY KEY (user_id, industry_id)
);

-- üîó –ë–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö –¥–ª—è —Å—Ç–∞–¥—ñ–π —ñ–Ω–≤–µ—Å—Ç–æ—Ä–∞
CREATE TABLE InvestorStages (
    user_id INTEGER REFERENCES UserProfile(id) ON DELETE CASCADE,
    stage_id INTEGER REFERENCES InvestmentStages(id),
    PRIMARY KEY (user_id, stage_id)
);

-- üöÄ –°—Ç–∞—Ä—Ç–∞–ø–∏
CREATE TABLE Startups (
    id SERIAL PRIMARY KEY,
    owner_id INTEGER REFERENCES UserProfile(id) ON DELETE CASCADE,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    website TEXT,
    pitch_deck_url TEXT,
    industry_id INTEGER REFERENCES Industries(id),
    stage_id INTEGER REFERENCES InvestmentStages(id),
    created_at TIMESTAMP DEFAULT NOW()
);

-- ü§ù –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π
CREATE TABLE InvestmentOffers (
    id SERIAL PRIMARY KEY,
    investor_id INTEGER REFERENCES UserProfile(id),
    startup_id INTEGER REFERENCES Startups(id),
    amount NUMERIC NOT NULL,
    message TEXT,
    status_id INTEGER REFERENCES OfferStatus(id),
    created_at TIMESTAMP DEFAULT NOW()
);

-- üí¨ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
CREATE TABLE Messages (
    id SERIAL PRIMARY KEY,
    sender_id INTEGER REFERENCES UserProfile(id),
    receiver_id INTEGER REFERENCES UserProfile(id),
    content TEXT NOT NULL,
    sent_at TIMESTAMP DEFAULT NOW(),
    is_read BOOLEAN DEFAULT FALSE,
	read_at TIMESTAMP DEFAULT NULL
);

-- ‚≠êÔ∏è –í—ñ–¥–≥—É–∫–∏ –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
CREATE TABLE Reviews (
    id SERIAL PRIMARY KEY,
    reviewer_id INTEGER REFERENCES UserProfile(id),
    reviewed_user_id INTEGER REFERENCES UserProfile(id),
    rating INTEGER CHECK (rating BETWEEN 1 AND 5),
    comment TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);