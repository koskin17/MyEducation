üîç –°—É–ø–µ—Ä! –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –Ω–∞–∑–≤–∏ –∫–Ω–∏–≥–∏ ‚Äî —Ü–µ –¥—É–∂–µ —Ö–æ—Ä–æ—à–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞, —ñ —è –ø–æ–∫–∞–∂—É, —è–∫ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏ **–¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏**:

---

## ‚úÖ –°–ü–û–°–Ü–ë 1: –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π ‚Äî —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å

### üîß –í `models.py` –∑—Ä–æ–±–∏ –ø–æ–ª–µ `name` —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º:

```python
class Book(models.Model):
    name = models.CharField(max_length=255, unique=True)  # ‚¨ÖÔ∏è —É–Ω—ñ–∫–∞–ª—å–Ω–µ
    count = models.IntegerField()
    authors = models.ManyToManyField(Author)
```

üîπ Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å: —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–ø—Ä–æ–±—É—î –¥–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É –∑ –Ω–∞–∑–≤–æ—é, —è–∫–∞ –≤–∂–µ —î ‚Äî –±—É–¥–µ –ø–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó, —ñ —Ñ–æ—Ä–º–∞ —ó—ó –ø–æ–∫–∞–∂–µ.

---

### ‚ùó –ê–ª–µ: —è–∫—â–æ —Ç–∏ –Ω–µ —Ö–æ—á–µ—à —Ä–æ–±–∏—Ç–∏ –ø–æ–ª–µ "—É–Ω—ñ–∫–∞–ª—å–Ω–∏–º" —É –ë–î, –∞–±–æ —Ö–æ—á–µ—à —Å–≤–æ—é –∫–∞—Å—Ç–æ–º–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É...

---

## ‚úÖ –°–ü–û–°–Ü–ë 2: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É —Ñ–æ—Ä–º—ñ (–±–µ–∑ unique=True)

### üîß –£ `forms.py`, —É `BookForm`, –¥–æ–¥–∞–π –º–µ—Ç–æ–¥ `clean_name()`:

```python
class BookForm(forms.ModelForm):
    class Meta:
        model = Book
        fields = ['name', 'count', 'authors']

    def clean_name(self):
        name = self.cleaned_data['name']
        if Book.objects.filter(name__iexact=name).exists():
            raise forms.ValidationError("–ö–Ω–∏–≥–∞ –∑ —Ç–∞–∫–æ—é –Ω–∞–∑–≤–æ—é –≤–∂–µ —ñ—Å–Ω—É—î.")
        return name
```

---

### üß† –©–æ —Ç—É—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:

* `clean_name()` ‚Äî —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –º–µ—Ç–æ–¥ Django, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ –ø–æ–ª—è `name`;
* `cleaned_data['name']` ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ –≤–≤—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á;
* `Book.objects.filter(...)` ‚Äî —à—É–∫–∞—î–º–æ –∫–Ω–∏–≥–∏ –∑ —Ç–∞–∫–æ—é –∂ –Ω–∞–∑–≤–æ—é (—Ä–µ–≥—ñ—Å—Ç—Ä –Ω–µ –≤—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è);
* `raise forms.ValidationError(...)` ‚Äî –∑—É–ø–∏–Ω—è—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ –ø–æ–∫–∞–∑—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞ —Ñ–æ—Ä–º—ñ üî¥

---

## üß™ –Ø–∫ –≤–∏–≥–ª—è–¥–∞—î –≤ —à–∞–±–ª–æ–Ω—ñ:

–£ `book_form.html`:

```django
<form method="post">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
</form>
```

üîπ –Ø–∫—â–æ —î –ø–æ–º–∏–ª–∫–∞ –≤ –Ω–∞–∑–≤—ñ, Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Å—Ç–∞–≤–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—ñ–¥ –ø–æ–ª–µ–º **name**.

---

## ‚ú® –©–æ –≤–∏–±—Ä–∞—Ç–∏?

| –í–∞—Ä—ñ–∞–Ω—Ç                | –î–æ–±—Ä–µ –∫–æ–ª–∏...                                                                      |
| ---------------------- | ---------------------------------------------------------------------------------- |
| `unique=True` —É –º–æ–¥–µ–ª—ñ | –ù–∞–∑–≤–∞ –∑–∞–≤–∂–¥–∏ –º–∞—î –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—é –≤ –ë–î                                              |
| `clean_name()` —É —Ñ–æ—Ä–º—ñ | –•–æ—á–µ—à –≤–∏–≤–µ—Å—Ç–∏ **—Å–≤–æ—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è**, –∞–±–æ –¥–æ–∑–≤–æ–ª—è—î—à –æ–¥–Ω–∞–∫–æ–≤—ñ –Ω–∞–∑–≤–∏ –≤ —ñ–Ω—à–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö |

---

üìå –Ø–∫—â–æ —Ö–æ—á–µ—à ‚Äî –º–æ–∂—É –ø–æ–∫–∞–∑–∞—Ç–∏ —è–∫ –∑—Ä–æ–±–∏—Ç–∏ —Ü—é –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ, –∞–ª–µ –Ω–µ –ø—Ä–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ (—â–æ–± –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Å–≤–æ—é –∂ –Ω–∞–∑–≤—É). –ü–∏—à–∏!
–¢–∏ –¥—É–∂–µ –≥—Ä–∞–º–æ—Ç–Ω–æ –ø—Ä–∞—Ü—é—î—à –∑ Django ‚Äî –ø—Ä–æ–¥–æ–≤–∂—É—î–º–æ! üí™üìò
