–ß—É–¥–æ–≤–æ, —â–æ —Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—à –¥–æ —Ä–æ–±–æ—Ç–∏ –∑ **Django forms** ‚Äî —Ü–µ –¥—É–∂–µ –≤–∞–∂–ª–∏–≤–∏–π –∫—Ä–æ–∫ —É —Ä–æ–∑–≤–∏—Ç–∫—É –±—É–¥—å-—è–∫–æ–≥–æ Django-–ø—Ä–æ—î–∫—Ç—É! üîß
–ó–∞—Ä–∞–∑ –ø–æ—è—Å–Ω—é –≤—Å–µ –ø—Ä–æ—Å—Ç–æ, –ø–æ–∫—Ä–æ–∫–æ–≤–æ –π –¥–æ–ø–æ–º–æ–∂—É –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ üíØ.

---

## üìå –©–æ –∑–Ω–∞—á–∏—Ç—å —Ç–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è:

> **"Update POST/PUT methods and templates for adding/editing functionality using Django forms."**

–û–∑–Ω–∞—á–∞—î:

1. üìù –¢–æ–±—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ **—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è** (`POST`) —ñ **—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è** (`PUT`) –æ–±'—î–∫—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–Ω–∏–≥, –∞–≤—Ç–æ—Ä—ñ–≤, –∑–∞–º–æ–≤–ª–µ–Ω—å);
2. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è —Ü—å–æ–≥–æ **Django forms** ‚Äî –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ `request.POST` + —Ä—É—á–Ω–∏–π `Book.objects.create(...)`;
3. –ó—Ä–æ–±–∏—Ç–∏ –∞–±–æ –æ–Ω–æ–≤–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ **HTML-—à–∞–±–ª–æ–Ω–∏** –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö.

---

## üß† –©–æ —Ç–∞–∫–µ **Django forms**?

–¶–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –∫–ª–∞—Å–∏, —è–∫—ñ:

* –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å HTML-—Ñ–æ—Ä–º—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –º–æ–¥–µ–ª—ñ –∞–±–æ –ø–æ–ª—ñ–≤;
* —Ä–æ–±–ª—è—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—é;
* –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑—Ä—É—á–Ω–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ `POST`/`PUT` —É –≤–∏–≥–ª—è–¥—ñ Python-–æ–±'—î–∫—Ç–∞.

---

## üîß –©–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏?

### ‚ú® –ü—Ä–∏–∫–ª–∞–¥: —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–Ω–∏–≥–∏ (Book)

#### üîπ 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–æ—Ä–º—É

–§–∞–π–ª `book/forms.py`:

```python
from django import forms
from book.models import Book

class BookForm(forms.ModelForm):
    class Meta:
        model = Book
        fields = ['name', 'count', 'authors']  # –î–æ–¥–∞–π –ø–æ—Ç—Ä—ñ–±–Ω—ñ –ø–æ–ª—è
```

#### üîπ 2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤ `views.py`:

```python
from django.shortcuts import render, redirect, get_object_or_404
from .forms import BookForm
from .models import Book

def create_book(request):
    if request.method == 'POST':
        form = BookForm(request.POST)
        if form.is_valid():
            form.save()
            return redirect('book_list')  # –∞–±–æ —ñ–Ω—à–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
    else:
        form = BookForm()
    return render(request, 'book/book_form.html', {'form': form})

def update_book(request, pk):
    book = get_object_or_404(Book, pk=pk)
    if request.method == 'POST':
        form = BookForm(request.POST, instance=book)
        if form.is_valid():
            form.save()
            return redirect('book_list')
    else:
        form = BookForm(instance=book)
    return render(request, 'book/book_form.html', {'form': form})
```

#### üîπ 3. –°—Ç–≤–æ—Ä–∏—Ç–∏ —à–∞–±–ª–æ–Ω `book_form.html`:

```html
<h2>{{ form.instance.pk|yesno:"Edit book,Create book" }}</h2>
<form method="post">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">Save</button>
</form>
```

#### üîπ 4. –î–æ–¥–∞—Ç–∏ —Ü—ñ —à–ª—è—Ö–∏ —É `book/urls.py`:

```python
from django.urls import path
from .views import create_book, update_book

urlpatterns = [
    path('add/', create_book, name='create_book'),
    path('<int:pk>/edit/', update_book, name='update_book'),
]
```

---

## ‚úÖ –©–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –±—É–¥–µ:

| –î—ñ—è              | URL             | –ú–µ—Ç–æ–¥              | –§–æ—Ä–º–∞                |
| ---------------- | --------------- | ------------------ | -------------------- |
| –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–Ω–∏–≥—É   | `/book/add/`    | `POST`             | Django Form          |
| –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–Ω–∏–≥—É | `/book/1/edit/` | `PUT` (–∞–±–æ `POST`) | Django Form –∑ –¥–∞–Ω–∏–º–∏ |

---

## ‚ùó –û—Ç–∂–µ, –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ —Ç–≤–æ—î –ø–∏—Ç–∞–Ω–Ω—è:

> –ß–∏ —Ç—ñ–ª—å–∫–∏ 2 –º–µ—Ç–æ–¥–∏ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏?

üìå –ù–µ —Ç—ñ–ª—å–∫–∏:

* –ø–æ—Ç—Ä—ñ–±–Ω–æ —â–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–æ—Ä–º—É (`BookForm`);
* –Ω–∞–ø–∏—Å–∞—Ç–∏ —à–∞–±–ª–æ–Ω (`book_form.html`);
* –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ URL-–∏.

---

## ‚úÖ –Ø –≥–æ—Ç–æ–≤–∏–π –¥–æ–ø–æ–º–æ–≥—Ç–∏

–ü–∏—à–∏, –∑ —è–∫–æ—é —Å–∞–º–µ –º–æ–¥–µ–ª–ª—é (Book, Author, Order, User?) —Ç–∏ —Ö–æ—á–µ—à –ø–æ—á–∞—Ç–∏ ‚Äî —ñ —è –¥–æ–ø–æ–º–æ–∂—É –∑—Ä–æ–±–∏—Ç–∏ –ø–æ–≤–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é: —Ñ–æ—Ä–º–∞ + view + —à–∞–±–ª–æ–Ω.

–¢–∏ –≤–∂–µ –Ω–∞ –ø—Ä–æ—Å—É–Ω—É—Ç–æ–º—É –µ—Ç–∞–ø—ñ ‚Äî –ø—Ä–æ–¥–æ–≤–∂—É—î–º–æ! üí™üìã
