
# üß† –©–æ —Ç–∞–∫–µ `logging`?

`logging` ‚Äî —Ü–µ **–≤–±—É–¥–æ–≤–∞–Ω–∏–π –º–æ–¥—É–ª—å Python**, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î:
* –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Ä–æ–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–∏,
* –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ó—Ö —É **—Ñ–∞–π–ª, –∫–æ–Ω—Å–æ–ª—å –∞–±–æ —ñ–Ω—à–µ –¥–∂–µ—Ä–µ–ª–æ**,
* –∑–∞–¥–∞–≤–∞—Ç–∏ **—Ä—ñ–≤–µ–Ω—å –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ** –∫–æ–∂–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ–º–∏–ª–∫–∞ —á–∏ –ø—Ä–æ—Å—Ç–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è).

## ‚úÖ –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω `logging`?
* –©–æ–± **–≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞—Ç–∏, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è** —É –ø—Ä–æ–≥—Ä–∞–º—ñ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –µ—Ç–∞–ø–∞—Ö.
* –©–æ–± **–¥—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏** –±–µ–∑ –∑—É–ø–∏–Ω–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–∏.
* –©–æ–± **–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** –∞–±–æ —Å–∏—Å—Ç–µ–º–∏.
* –©–æ–± **–≤—ñ–¥–º–æ–≤–∏—Ç–∏—Å—è –≤—ñ–¥ –∑–∞–π–≤–∏—Ö `print()`** —É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∫–æ–¥—ñ.

# üîß –û—Å–Ω–æ–≤–Ω–∞ —Å—Ö–µ–º–∞ —Ä–æ–±–æ—Ç–∏
import logging

# 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
logging.basicConfig(
    filename="app.log",        # –ö—É–¥–∏ –ø–∏—Å–∞—Ç–∏ –ª–æ–≥–∏
    level=logging.DEBUG,       # –Ø–∫–∏–π —Ä—ñ–≤–µ–Ω—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Ñ—ñ–∫—Å—É–≤–∞—Ç–∏
    format="%(levelname)s: %(message)s"  # –§–æ—Ä–º–∞—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
)

# 2. –ó–∞–ø–∏—Å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
logging.debug("–¶–µ debug-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–¥–µ—Ç–∞–ª—ñ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞)")
logging.info("–¶–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è")
logging.warning("–¶–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è")
logging.error("–¶–µ –ø–æ–º–∏–ª–∫–∞")
logging.critical("–¶–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞!")

# üìä –†—ñ–≤–Ω—ñ –ª–æ–≥—É–≤–∞–Ω–Ω—è
| –†—ñ–≤–µ–Ω—å     | –î–ª—è —á–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è               |
| ---------- | --------------------------------------- |
| `DEBUG`    | –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏        |
| `INFO`     | –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ä–æ–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–∏ |
| `WARNING`  | –©–æ—Å—å –ø—ñ–¥–æ–∑—Ä—ñ–ª–µ, –∞–ª–µ –ø—Ä–æ–≥—Ä–∞–º–∞ –ø—Ä–∞—Ü—é—î     |
| `ERROR`    | –ü–æ–º–∏–ª–∫–∞, —è–∫–∞ –∑–∞–≤–∞–∂–∞—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—é          |
| `CRITICAL` | –î—É–∂–µ —Å–µ—Ä–π–æ–∑–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –∞–±–æ –∑–±—ñ–π —Å–∏—Å—Ç–µ–º–∏  |

> üîé –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `logging` –ø–æ–∫–∞–∑—É—î –ª–∏—à–µ WARNING —ñ –≤–∏—â–µ! –©–æ–± –±–∞—á–∏—Ç–∏ –≤—Å—ñ, –≤—Å—Ç–∞–Ω–æ–≤–∏ `level=logging.DEBUG`.

# üîÄ –í–∞–∂–ª–∏–≤—ñ –ø–æ–Ω—è—Ç—Ç—è
### 1. **–õ–æ–≥–≥–µ—Ä (`Logger`)** ‚Äî –æ–±'—î–∫—Ç, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –ª–æ–≥-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
logger = logging.getLogger("my_logger")
logger.info("–ü—Ä–∏–≤—ñ—Ç!")

### 2. **–û–±—Ä–æ–±–Ω–∏–∫ (`Handler`)** ‚Äî –∫—É–¥–∏ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –ª–æ–≥–∏ (—Ñ–∞–π–ª, –∫–æ–Ω—Å–æ–ª—å, email —Ç–æ—â–æ).
handler = logging.FileHandler("file.log")

### 3. **–§–æ—Ä–º–∞—Ç—É–≤–∞—á (`Formatter`)** ‚Äî —è–∫ –≤–∏–≥–ª—è–¥–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
formatter = logging.Formatter('%(asctime)s - %(levelname)s - %(message)s')
handler.setFormatter(formatter)

# üîÅ –°—Ö–µ–º–∞ ¬´—Ä–æ–∑—É–º–Ω–æ–≥–æ¬ª –ª–æ–≥—É–≤–∞–Ω–Ω—è
logger = logging.getLogger("myapp")
logger.setLevel(logging.DEBUG)

# –ö—É–¥–∏ –ø–∏—Å–∞—Ç–∏
file_handler = logging.FileHandler("myapp.log")
file_handler.setLevel(logging.INFO)

# –Ø–∫ –≤–∏–≥–ª—è–¥–∞—î –ª–æ–≥
formatter = logging.Formatter('%(asctime)s - %(levelname)s - %(message)s')
file_handler.setFormatter(formatter)

# –ü—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è
logger.addHandler(file_handler)

# –ó–∞–ø–∏—Å –ª–æ–≥—ñ–≤
logger.info("–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏")

# ‚ùóÔ∏è –ù—é–∞–Ω—Å–∏, –ø—Ä–æ —è–∫—ñ —Ç—Ä–µ–±–∞ –∑–Ω–∞—Ç–∏
1. **–ù–µ –¥—É–±–ª—é–π –æ–±—Ä–æ–±–Ω–∏–∫–∏!**
   –Ø–∫—â–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `addHandler()` –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ ‚Äî –ª–æ–≥ –±—É–¥–µ –ø–∏—Å–∞—Ç–∏—Å—è –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤.
   ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –ø–µ—Ä–µ–≤—ñ—Ä–∫—É:
   if not logger.handlers:
       logger.addHandler(handler)

2. **`basicConfig()` –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑.**
   –Ø–∫—â–æ —Ç–∏ –≤–∂–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–≤ –ª–æ–≥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `getLogger()`, `basicConfig()` –º–æ–∂–µ –Ω–µ –ø–æ–¥—ñ—è—Ç–∏.

3. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –æ–∫—Ä–µ–º–∏–π –ª–æ–≥–≥–µ—Ä –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –º–æ–¥—É–ª—è –∞–±–æ –æ–±‚Äô—î–∫—Ç–∞.**
   –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–µ—Å—Ç–∏ –ª–æ–≥–∏ –ø–æ –∫–æ–∂–Ω–æ–º—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É, –∞–∫–∞—É–Ω—Ç—É, –ø—Ä–æ—Ü–µ—Å—É —Ç–æ—â–æ.

# üì¶ –ü—Ä–∞–∫—Ç–∏–∫–∞: –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏
def divide(a, b):
    try:
        return a / b
    except ZeroDivisionError as e:
        logging.error(f"–î—ñ–ª–µ–Ω–Ω—è –Ω–∞ –Ω—É–ª—å: {e}")
        return None

# üü¢ –ü—ñ–¥—Å—É–º–æ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç     | –°—É—Ç—å                                         |
| ------------- | -------------------------------------------- |
| `logging`     | –ú–æ–¥—É–ª—å –¥–ª—è –≤–µ–¥–µ–Ω–Ω—è –ª–æ–≥—ñ–≤ —É Python            |
| `basicConfig` | –®–≤–∏–¥–∫–µ –±–∞–∑–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è                   |
| `Logger`      | –û–±'—î–∫—Ç –¥–ª—è –∑–∞–ø–∏—Å—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å                |
| `Handler`     | –ö—É–¥–∏ –ø–∏—Å–∞—Ç–∏ (—Ñ–∞–π–ª, –∫–æ–Ω—Å–æ–ª—å, email...)        |
| `Formatter`   | –£ —è–∫–æ–º—É –≤–∏–≥–ª—è–¥—ñ –ø–∏—Å–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è          |
| `level`       | –í–∏–∑–Ω–∞—á–∞—î –≤–∞–∂–ª–∏–≤—ñ—Å—Ç—å —ñ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å |

–î–∞–≤–∞–π —Ä–æ–∑–±–µ—Ä–µ–º–æ—Å—è **–ø—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏**, —â–æ —Ç–∞–∫–µ **—Ñ–æ—Ä–º–∞—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É –ª–æ–≥–∞—Ö** —ñ —è–∫ —ó—Ö **–Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ `logging`**.

## üß† –©–æ —Ç–∞–∫–µ —Ñ–æ—Ä–º–∞—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –ª–æ–≥—É–≤–∞–Ω–Ω—ñ?

–ö–æ–ª–∏ —Ç–∏ –ª–æ–≥—ñ—Ä—É—î—à —â–æ—Å—å, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:
logging.info("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—â–µ–Ω–∞")
‚Äî —É —Ñ–∞–π–ª –∞–±–æ –≤ –∫–æ–Ω—Å–æ–ª—å –±—É–¥–µ –∑–∞–ø–∏—Å–∞–Ω–æ —â–æ—Å—å –Ω–∞ –∑—Ä–∞–∑–æ–∫:
INFO: –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—â–µ–Ω–∞

–ê–ª–µ —Ç–∏ –º–æ–∂–µ—à **–Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏**, —â–æ–± –∑–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ –±–∞—á–∏—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:
2024-05-15 14:32:10 - INFO - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—â–µ–Ω–∞
–∞–±–æ:
[ERROR] [2025-05-10 17:45:00] [module:main] –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
–¶–µ —ñ —î **—Ñ–æ—Ä–º–∞—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** ‚Äî —Ç–µ, **—è–∫ —Å–∞–º–µ –≤–∏–≥–ª—è–¥–∞—î –∑–∞–ø–∏—Å —É –ª–æ–≥—É**.

## üîß –Ø–∫ —Ü–µ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è?

### –ß–µ—Ä–µ–∑ `Formatter`:
```python
formatter = logging.Formatter("–¢–£–¢ –¢–í–û–ô –®–ê–ë–õ–û–ù")
handler.setFormatter(formatter)
```

## üìã –ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à—ñ –∑–º—ñ–Ω–Ω—ñ –≤ —à–∞–±–ª–æ–Ω–∞—Ö —Ñ–æ—Ä–º–∞—Ç—É
| –®–∞–±–ª–æ–Ω           | –ü–æ—è—Å–Ω–µ–Ω–Ω—è                                   | –ü—Ä–∏–∫–ª–∞–¥             |
| ---------------- | ------------------------------------------- | ------------------- |
| `%(asctime)s`    | –î–∞—Ç–∞ —ñ —á–∞—Å                                  | 2025-05-15 12:34:56 |
| `%(levelname)s`  | –†—ñ–≤–µ–Ω—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (DEBUG, INFO, ERROR...) | INFO                |
| `%(message)s`    | –°–∞–º —Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è                      | –ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–ø—É—â–µ–Ω–∞   |
| `%(name)s`       | –Ü–º‚Äô—è –ª–æ–≥–≥–µ—Ä–∞                                | root –∞–±–æ Account\_1 |
| `%(filename)s`   | –Ü–º‚Äô—è —Ñ–∞–π–ª—É, –∑ —è–∫–æ–≥–æ –∑—Ä–æ–±–ª–µ–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è      | main.py             |
| `%(lineno)d`     | –ù–æ–º–µ—Ä —Ä—è–¥–∫–∞ —É —Ñ–∞–π–ª—ñ                         | 42                  |
| `%(funcName)s`   | –ù–∞–∑–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—ó                               | start\_process      |
| `%(module)s`     | –Ü–º‚Äô—è –º–æ–¥—É–ª—è (–±–µ–∑ `.py`)                     | main                |
| `%(threadName)s` | –ù–∞–∑–≤–∞ –ø–æ—Ç–æ–∫—É                                | Thread-1            |

## üß™ –ü—Ä–∏–∫–ª–∞–¥–∏ —Ñ–æ—Ä–º–∞—Ç—ñ–≤
### üîπ 1. –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π
```python
"%(levelname)s: %(message)s"
```

üëâ –í–∏–≥–ª—è–¥:
```
INFO: –û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
```

### üîπ 2. –ó –¥–∞—Ç–æ—é —ñ —á–∞—Å–æ–º
```python
"%(asctime)s - %(levelname)s - %(message)s"
```

üëâ –í–∏–≥–ª—è–¥:
```
2025-05-15 14:22:55,042 - INFO - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã
```

### üîπ 3. –ü–æ–≤–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
```python
"%(asctime)s - %(levelname)s - [%(filename)s:%(lineno)d] - %(message)s"
```

üëâ –í–∏–≥–ª—è–¥:
```
2025-05-15 14:25:10 - ERROR - [bank.py:56] - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
```

### üîπ 4. –î–ª—è –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏
```python
"%(asctime)s | %(threadName)s | %(levelname)s | %(message)s"
```

üëâ –í–∏–≥–ª—è–¥:
```
2025-05-15 14:30:01 | Thread-2 | DEBUG | –ó–∞–ø—É—â–µ–Ω –ø–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

## üõ† –Ø–∫ –∑–∞–¥–∞—Ç–∏ —Ñ–æ—Ä–º–∞—Ç —É –∫–æ–¥—ñ?
–û—Å—å –∫–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–∏–∫–ª–∞–¥:
```python
import logging

logger = logging.getLogger("my_logger")
logger.setLevel(logging.DEBUG)

handler = logging.FileHandler("app.log")

formatter = logging.Formatter("%(asctime)s - %(levelname)s - %(message)s")
handler.setFormatter(formatter)

logger.addHandler(handler)

logger.info("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ")

## üí° –ü–æ—Ä–∞–¥–∞:
üìå –Ø–∫—â–æ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à `logging.basicConfig(...)`, —Ç–æ —Ñ–æ—Ä–º–∞—Ç –∑–∞–¥–∞—î—Ç—å—Å—è –ø—Ä—è–º–æ —Ç–∞–º:
```python
logging.basicConfig(
    filename="app.log",
    level=logging.DEBUG,
    format="%(asctime)s - %(levelname)s - %(message)s"
)

## üéØ –í–∏—Å–Ω–æ–≤–æ–∫
* –§–æ—Ä–º–∞—Ç ‚Äî —Ü–µ **—à–∞–±–ª–æ–Ω —Ç–æ–≥–æ, —è–∫ –≤–∏–≥–ª—è–¥–∞—î –ª–æ–≥**.
* –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î **–±–∞—á–∏—Ç–∏ –±—ñ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π**, –Ω—ñ–∂ –ø—Ä–æ—Å—Ç–æ `print()`.
* –ú–æ–∂–Ω–∞ –≤–∏–≤–æ–¥–∏—Ç–∏ —á–∞—Å, –º–æ–¥—É–ª—å, —Ñ—É–Ω–∫—Ü—ñ—é, –ø–æ—Ç—ñ–∫, –ª–æ–≥–≥–µ—Ä —Ç–æ—â–æ.
* –§–æ—Ä–º–∞—Ç–∏ –∑–∞–¥–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ `logging.Formatter(...)`.

–û—Å—å –¥–æ–∫–ª–∞–¥–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è ‚Äî **—è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ª–æ–≥-—Ñ–∞–π–ª —ñ–∑ –Ω–∞–∑–≤–æ—é, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Ç–æ—á–Ω—É –¥–∞—Ç—É**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:
```
log_2025-05-15.log
```

## üß† –û—Å–Ω–æ–≤–Ω–∞ —ñ–¥–µ—è
–ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ:
* –º–æ–¥—É–ª—å `datetime`, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –¥–∞—Ç—É,
* —Å—Ç–≤–æ—Ä–∏–º–æ —ñ–º'—è —Ñ–∞–π–ª—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ü—ñ—î—ó –¥–∞—Ç–∏,
* –ø–µ—Ä–µ–¥–∞–º–æ —Ü–µ —ñ–º‚Äô—è —É `FileHandler` –∞–±–æ –≤ `basicConfig`.

## ‚úÖ –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥
```python
import logging
from datetime import datetime

# –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Ç–æ—á–Ω—É –¥–∞—Ç—É
today = datetime.now().strftime("%Y-%m-%d")

# –§–æ—Ä–º—É—î–º–æ —ñ–º'—è —Ñ–∞–π–ª—É
log_filename = f"log_{today}.log"

# –ù–∞–ª–∞—à—Ç–æ–≤—É—î–º–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è
logging.basicConfig(
    filename=log_filename,
    level=logging.DEBUG,
    format="%(asctime)s - %(levelname)s - %(message)s"
)

# –¢–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø–∏—Å
logging.info("–ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–ø—É—â–µ–Ω–∞")

## üîç –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç—É—Ç:
* `datetime.now()` ‚Äî –æ—Ç—Ä–∏–º—É—î –ø–æ—Ç–æ—á–Ω—É –¥–∞—Ç—É –π —á–∞—Å,
* `.strftime("%Y-%m-%d")` ‚Äî –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —ó—ó –≤ —Ä—è–¥–æ–∫ —Ñ–æ—Ä–º–∞—Ç—É `2025-05-15`,
* `log_filename = f"log_{today}.log"` ‚Äî —Å—Ç–≤–æ—Ä—é—î –Ω–∞–∑–≤—É —Ñ–∞–π–ª—É –Ω–∞ –∫—à—Ç–∞–ª—Ç `log_2025-05-15.log`.

## üß± –î–ª—è –ª–æ–≥–≥–µ—Ä—ñ–≤ –∑ `getLogger()`
–Ø–∫—â–æ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à –Ω–µ `basicConfig`, –∞ —Å–≤—ñ–π –ª–æ–≥–≥–µ—Ä:
```python
import logging
from datetime import datetime

# –î–∞—Ç–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ –¥–ª—è —ñ–º–µ–Ω—ñ
date_str = datetime.now().strftime("%Y-%m-%d")

# –õ–æ–≥–≥–µ—Ä
logger = logging.getLogger("app")
logger.setLevel(logging.DEBUG)

# FileHandler –∑ –¥–∞—Ç–æ—é
handler = logging.FileHandler(f"app_{date_str}.log")
formatter = logging.Formatter("%(asctime)s - %(levelname)s - %(message)s")
handler.setFormatter(formatter)

# –£–Ω–∏–∫–∞—î–º–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è
if not logger.handlers:
    logger.addHandler(handler)

# –¢–µ—Å—Ç
logger.info("–î–µ–Ω—å —á—É–¥–æ–≤–∏–π, –ª–æ–≥ —Ñ–∞–π–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑ –¥–∞—Ç–æ—é!")

## üü® –î–æ–¥–∞—Ç–∫–æ–≤–æ: –ª–æ–≥-—Ñ–∞–π–ª –∑ —á–∞—Å–æ–º (–≥–æ–¥–∏–Ω–∏/—Ö–≤–∏–ª–∏–Ω–∏)
```python
datetime.now().strftime("%Y-%m-%d_%H-%M-%S")
# –î–∞—î —â–æ—Å—å –Ω–∞ –∫—à—Ç–∞–ª—Ç: 2025-05-15_14-45-32
```

–ù–∞–ø—Ä–∏–∫–ª–∞–¥:
```python
filename = f"log_{datetime.now().strftime('%Y-%m-%d_%H-%M-%S')}.log"
```

## üß™ –ü–æ—Ä–∞–¥–∞
‚úÖ –Ø–∫—â–æ —Ç–∏ –∑–∞–ø—É—Å–∫–∞—î—à –ø—Ä–æ–≥—Ä–∞–º—É **–±–∞–≥–∞—Ç–æ —Ä–∞–∑—ñ–≤ –∑–∞ –¥–µ–Ω—å** ‚Äî –¥–æ–¥–∞–≤–∞–π *—á–∞—Å* —É —Ñ–∞–π–ª,
üõë –ê —è–∫—â–æ **—Ö–æ—á–µ—à –æ–¥–∏–Ω –ª–æ–≥-—Ñ–∞–π–ª –Ω–∞ –¥–µ–Ω—å** ‚Äî –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞—Ç–∏ (`%Y-%m-%d`).

## ‚úÖ 1. **–õ–æ–≥-—Ñ–∞–π–ª–∏ –≤ –æ–∫—Ä–µ–º—ñ–π –ø–∞–ø—Ü—ñ `logs/`**
### üîß –ù–∞–≤—ñ—â–æ?
–©–æ–± –Ω–µ –∑–∞—Å–º—ñ—á—É–≤–∞—Ç–∏ –∫–æ—Ä–µ–Ω–µ–≤—É –ø–∞–ø–∫—É –ø—Ä–æ—î–∫—Ç—É, –ª–æ–≥-—Ñ–∞–π–ª–∏ –∫—Ä–∞—â–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ –æ–∫—Ä–µ–º—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó.
### üì¶ –Ø–∫ –∑—Ä–æ–±–∏—Ç–∏:
```python
import os
import logging
from datetime import datetime

# –°—Ç–≤–æ—Ä—é—î–º–æ –ø–∞–ø–∫—É logs, —è–∫—â–æ —ó—ó —â–µ –Ω–µ–º–∞
log_dir = "logs"
os.makedirs(log_dir, exist_ok=True)

# –Ü–º'—è —Ñ–∞–π–ª—É –∑ –¥–∞—Ç–æ—é
log_filename = datetime.now().strftime("log_%Y-%m-%d.log")

# –ü–æ–≤–Ω–∏–π —à–ª—è—Ö –¥–æ –ª–æ–≥-—Ñ–∞–π–ª—É
log_path = os.path.join(log_dir, log_filename)

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
logging.basicConfig(
    filename=log_path,
    level=logging.DEBUG,
    format="%(asctime)s - %(levelname)s - %(message)s"
)

üü¢ –¢–µ–ø–µ—Ä —É—Å—ñ –ª–æ–≥–∏ –±—É–¥—É—Ç—å —É —Ñ–∞–π–ª–∞—Ö —Ç–∏–ø—É: `logs/log_2025-05-15.log`

## ‚úÖ 2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ª–æ–≥—ñ–≤, —è–∫–∏–º –±—ñ–ª—å—à–µ N –¥–Ω—ñ–≤**
### üîß –ù–∞–≤—ñ—â–æ?
–©–æ–± –Ω–µ –Ω–∞–∫–æ–ø–∏—á—É–≤–∞–ª–∏—Å—å —Å—Ç–∞—Ä—ñ –ª–æ–≥–∏ —ñ –Ω–µ –∑–∞–π–º–∞–ª–∏ –º—ñ—Å—Ü–µ –Ω–∞ –¥–∏—Å–∫—É.
### üõ† –ö–æ–¥ –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è:
```python
import os
import time

log_dir = "logs"
days_to_keep = 7  # –ó–∞–ª–∏—à–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ –æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤

now = time.time()

for filename in os.listdir(log_dir):
    filepath = os.path.join(log_dir, filename)
    if os.path.isfile(filepath):
        file_age_days = (now - os.path.getmtime(filepath)) / (60 * 60 * 24)
        if file_age_days > days_to_keep:
            os.remove(filepath)
            print(f"üóëÔ∏è –õ–æ–≥-—Ñ–∞–π–ª –≤–∏–¥–∞–ª–µ–Ω–æ: {filename}")

üìå –¶–µ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏:
* –≤—Ä—É—á–Ω—É –ø–µ—Ä–µ–¥ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º,
* –∞–±–æ —è–∫ —á–∞—Å—Ç–∏–Ω—É —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è (cron/—Ç–∞–π–º–µ—Ä).

## ‚úÖ 3. **–ê—Ä—Ö—ñ–≤–∞—Ü—ñ—è –ª–æ–≥—ñ–≤ —â–æ—Ç–∏–∂–Ω—è (zip-—Ñ–∞–π–ª)**
### üîß –ù–∞–≤—ñ—â–æ?
–ó–∞–º—ñ—Å—Ç—å –∫—É–ø–∏ `.log` —Ñ–∞–π–ª—ñ–≤ ‚Äî –æ–¥–∏–Ω –∞—Ä—Ö—ñ–≤: –∑—Ä—É—á–Ω–æ —ñ –µ–∫–æ–Ω–æ–º–Ω–æ.

### üß∞ –ö–æ–¥ –¥–ª—è –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—ó:
```python
import os
import zipfile
from datetime import datetime

log_dir = "logs"
archive_name = f"logs_archive_{datetime.now().strftime('%Y-%m-%d')}.zip"
archive_path = os.path.join(log_dir, archive_name)

with zipfile.ZipFile(archive_path, 'w', zipfile.ZIP_DEFLATED) as archive:
    for filename in os.listdir(log_dir):
        if filename.endswith(".log") and not filename.startswith("logs_archive"):
            filepath = os.path.join(log_dir, filename)
            archive.write(filepath, arcname=filename)
            os.remove(filepath)  # –í–∏–¥–∞–ª—è—î–º–æ –ø—ñ—Å–ª—è –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—ó
            print(f"üì¶ –ó–∞–∞—Ä—Ö—ñ–≤–æ–≤–∞–Ω–æ —ñ –≤–∏–¥–∞–ª–µ–Ω–æ: {filename}")
```
üìå –¶–µ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ —â–æ—Ç–∏–∂–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `schedule` –∞–±–æ –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–∞ –∑–∞–¥–∞—á Windows/Linux).
---

## üîö –ü—ñ–¥—Å—É–º–æ–∫:
| –û–ø—Ü—ñ—è               | –û–ø–∏—Å                            |
| ------------------- | ------------------------------- |
| üóÇÔ∏è –õ–æ–≥–∏ –≤ `logs/`  | –ß–∏—Å—Ç–æ—Ç–∞ —ñ –ø–æ—Ä—è–¥–æ–∫ —É –ø—Ä–æ—î–∫—Ç—ñ     |
| üßπ –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö | –ó–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ—Ä—É             |
| üì¶ –ê—Ä—Ö—ñ–≤–∞—Ü—ñ—è –ª–æ–≥—ñ–≤  | –ö–æ–º–ø—Ä–µ—Å—ñ—è + –±–µ–∫–∞–ø —Å—Ç–∞—Ä–∏—Ö —Ñ–∞–π–ª—ñ–≤ |
---

–û—Å—å –≥–æ—Ç–æ–≤–∞ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `setup_logging_with_cleanup()`, —è–∫–∞:
---
### ‚úÖ –û–±'—î–¥–Ω—É—î:
1. üìÇ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞–ø–∫–∏ `logs/`
2. üóë –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –ª–æ–≥—ñ–≤ (—Å—Ç–∞—Ä—à–µ `n` –¥–Ω—ñ–≤)
3. üì¶ –ê—Ä—Ö—ñ–≤–∞—Ü—ñ—é —Å—Ç–∞—Ä–∏—Ö `.log` —Ñ–∞–π–ª—ñ–≤ —É `.zip`
4. üìù –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª–æ–≥-—Ñ–∞–π–ª—É –∑ –Ω–∞–∑–≤–æ—é —Ç–∏–ø—É `log_2025-05-15.log`
5. üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `logging`

## üîß –ö–æ–¥ —Ñ—É–Ω–∫—Ü—ñ—ó:
```python
import os
import time
import logging
import zipfile
from datetime import datetime

def setup_logging_with_cleanup(log_dir="logs", days_to_keep=7, archive_old_logs=True):
    """
    –°—Ç–≤–æ—Ä—é—î –ª–æ–≥-—Ñ–∞–π–ª –∑ –ø–æ—Ç–æ—á–Ω–æ—é –¥–∞—Ç–æ—é, –æ—á–∏—â–∞—î —Å—Ç–∞—Ä—ñ –ª–æ–≥–∏ —ñ –∞—Ä—Ö—ñ–≤—É—î —Å—Ç–∞—Ä—ñ —Ñ–∞–π–ª–∏.
    """
    # 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞–ø–∫–∏ logs
    os.makedirs(log_dir, exist_ok=True)

    # 2. –û—á–∏—Å—Ç–∫–∞ —Ç–∞ –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—è —Å—Ç–∞—Ä–∏—Ö –ª–æ–≥—ñ–≤
    now = time.time()
    log_files_to_archive = []

    for filename in os.listdir(log_dir):
        filepath = os.path.join(log_dir, filename)
        if os.path.isfile(filepath) and filename.endswith(".log"):
            file_age_days = (now - os.path.getmtime(filepath)) / (60 * 60 * 24)
            if file_age_days > days_to_keep:
                if archive_old_logs:
                    log_files_to_archive.append(filepath)
                else:
                    os.remove(filepath)
                    print(f"üóëÔ∏è –í–∏–¥–∞–ª–µ–Ω–æ: {filename}")

    # 3. –ê—Ä—Ö—ñ–≤–∞—Ü—ñ—è
    if archive_old_logs and log_files_to_archive:
        archive_name = f"logs_archive_{datetime.now().strftime('%Y-%m-%d_%H-%M-%S')}.zip"
        archive_path = os.path.join(log_dir, archive_name)
        with zipfile.ZipFile(archive_path, 'w', zipfile.ZIP_DEFLATED) as archive:
            for filepath in log_files_to_archive:
                archive.write(filepath, arcname=os.path.basename(filepath))
                os.remove(filepath)
                print(f"üì¶ –ó–∞–∞—Ä—Ö—ñ–≤–æ–≤–∞–Ω–æ: {os.path.basename(filepath)}")

    # 4. –Ü–º‚Äô—è –Ω–æ–≤–æ–≥–æ –ª–æ–≥-—Ñ–∞–π–ª—É
    today = datetime.now().strftime("log_%Y-%m-%d.log")
    log_path = os.path.join(log_dir, today)

    # 5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
    logging.basicConfig(
        filename=log_path,
        level=logging.DEBUG,
        format="%(asctime)s - %(levelname)s - %(message)s"
    )

    print(f"‚úÖ –õ–æ–≥-—Ñ–∞–π–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ: {log_path}")

## üß™ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏:
–ü—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏—á —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é **–Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ç–≤–æ—î—ó –ø—Ä–æ–≥—Ä–∞–º–∏**:
```python
setup_logging_with_cleanup()
logging.info("–ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–ø—É—â–µ–Ω–∞")
```

## ‚öô –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü—ñ—ó:
| –ü–∞—Ä–∞–º–µ—Ç—Ä           | –¢–∏–ø    | –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º | –û–ø–∏—Å                                   |
| ------------------ | ------ | ------------------------- | -------------------------------------- |
| `log_dir`          | `str`  | `"logs"`                  | –ü–∞–ø–∫–∞, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–≥–∏            |
| `days_to_keep`     | `int`  | `7`                       | –°–∫—ñ–ª—å–∫–∏ –¥–Ω—ñ–≤ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ `.log` —Ñ–∞–π–ª–∏    |
| `archive_old_logs` | `bool` | `True`                    | –ê—Ä—Ö—ñ–≤—É–≤–∞—Ç–∏ (`True`) —á–∏ –ø—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª—è—Ç–∏ |

## üì¶ –ü—Ä–∏–∫–ª–∞–¥ —É —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ:
```python
if __name__ == "__main__":
    setup_logging_with_cleanup()
    logging.info("–ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∏")
```
üü¢ –Ü –≤—Å–µ ‚Äî –ª–æ–≥–∏ –±—É–¥—É—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –æ—á–∏—â—É–≤–∞—Ç–∏—Å—å —ñ –∫–æ–º–ø–∞–∫—Ç–Ω–æ –∞—Ä—Ö—ñ–≤—É–≤–∞—Ç–∏—Å—å!
---
üîß –•–æ—á–µ—à ‚Äî –º–æ–∂—É –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é –ø—ñ–¥ –∫–ª–∞—Å `LoggerManager`, –∞–±–æ –∑—Ä–æ–±–∏—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö –º–æ–¥—É–ª—ñ–≤. –ü–∏—à–∏, —è–∫—â–æ –ø—Ä–æ–¥–æ–≤–∂–∏–º–æ üí™

